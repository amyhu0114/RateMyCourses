<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Node Starter</title>
    <!-- load local stylesheet (css) -->
    <link rel="stylesheet" href="/styles.css" />
    <!-- loading jquery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>
    <%- include("partials/navbar.ejs", {loggedIn: loggedIn}) %>

    <%- include("partials/flashes.ejs") %>
    <main>
    <form id ="myForm" method = "GET" action = "/search/">
        <p>
            <label>
                search for a class: 
                <input type ="text" required name = "term">
            </label>
            <input type = "submit" value = "search" id="searchbutton">
        </p>
    </form>

    <form id = "filterForm" method = "GET" action = "/browse/">
        <p>
            <label>
                Filter by department:
            </label>
            <select type = "dropdown" id = "filterDropdown" required name = "department">
                <% depts.forEach((elt) => {%> 
                <option value  = <%= elt.departmentId %>><%= elt.departmentName %></option> <% }); %>
            </select>
            <input type = "submit" value = "filter" id="searchbutton">
        </p>
    </form>

    <h1>Search Results:</h1>
    <p>You searched for: "<%= formData %>"</p>


    <div>
        <% searchResults.forEach((elt) => {%>
        <div class="searchResult"><a href = <%= elt[0] %>><%= elt[1] %></a></div>
        <% }); %>
    </div>

</main>
</body>
</html>
